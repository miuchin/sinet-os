<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SINET LIFE HUB v6.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: { extend: { colors: { life: { bg: '#f0f9ff', accent: '#0ea5e9', purple: '#7c3aed' } } } }
        }
    </script>
</head>
<body class="bg-life-bg min-h-screen font-sans" onload="initHub()">

    <header class="bg-white shadow-md p-4 sticky top-0 z-50">
        <div class="max-w-xl mx-auto flex justify-between items-center">
            <div class="flex items-center gap-2">
                <img src="https://img.icons8.com/color/48/heart-health.png" class="w-8 h-8" alt="logo">
                <h1 class="text-xl font-black text-slate-800 italic uppercase italic">SINET <span class="text-life-accent">LIFE HUB</span></h1>
            </div>
            <div class="flex items-center gap-3">
                <button onclick="window.location.href='SINET_INDEX.html'" class="bg-life-purple text-white px-4 py-1.5 rounded-full font-black text-[10px] uppercase shadow-lg">INDEX</button>
                <button onclick="window.location.href='life_settings.html'" class="text-slate-400 hover:text-slate-600 transition">
                    <i class="fa-solid fa-gear text-xl"></i>
                </button>
            </div>
        </div>
    </header>

    <main class="p-4 max-w-xl mx-auto space-y-6">
        
        <section class="bg-white p-6 rounded-[2.5rem] shadow-sm border border-slate-100 relative">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-[9px] font-black text-slate-400 uppercase tracking-widest italic">OKRU≈ΩENJE & STANJE</h2>
                <span id="loc-tag" class="text-[8px] font-bold text-blue-500 bg-blue-50 px-3 py-1 rounded-full uppercase">LOKACIJA: NOVI SAD</span>
            </div>
            <div class="grid grid-cols-3 gap-4 text-center mt-2 px-2">
			<div class="flex flex-col items-center">
				<p class="text-[8px] font-black text-slate-400 uppercase mb-1">Temperatura</p>
				<p id="meteo-temp" class="text-3xl font-black text-slate-800 tracking-tighter">--¬∞C</p>
			</div>
			<div class="flex flex-col items-center border-x border-slate-100 px-2">
				<p class="text-[8px] font-black text-slate-400 uppercase mb-1">Vla≈ænost</p>
				<p id="meteo-hum" class="text-3xl font-black text-slate-800 tracking-tighter">--%</p>
			</div>
			<div class="flex flex-col items-center">
				<p class="text-[8px] font-black text-slate-400 uppercase mb-1">Vetar</p>
				<div class="flex items-baseline gap-1">
					<span id="meteo-wind" class="text-3xl font-black text-slate-800 tracking-tighter">--</span>
					<span class="text-[10px] font-bold text-slate-400 uppercase">km/h</span>
				</div>
			</div>
		</div>
        </section>

        <section class="bg-gradient-to-r from-indigo-600 to-life-purple p-8 rounded-[2.5rem] text-white shadow-xl relative overflow-hidden">
            <div class="relative z-10">
                <h3 class="font-black text-2xl italic uppercase mb-1">DUHOVNA POMOƒÜ</h3>
                <p class="text-[10px] text-indigo-100 mb-6 uppercase tracking-wider">Brzi pristup Porodiƒçnom Molitveniku.</p>
                <button onclick="window.location.href='mol_hub.html'" class="w-full bg-white text-indigo-600 font-black py-4 rounded-2xl shadow-lg uppercase text-xs flex items-center justify-center gap-2">
                    <i class="fa-solid fa-hands-praying"></i> OTVORI MOLITVENIK
                </button>
            </div>
            <i class="fa-solid fa-church absolute -bottom-4 -right-4 text-white/10 text-9xl"></i>
        </section>

			
			<section class="grid grid-cols-2 sm:grid-cols-3 gap-4">
			
            <button onclick="window.location.href='life_vitals.html'" class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-50 flex flex-col items-center hover:bg-red-50 transition">
                <i class="fa-solid fa-gauge-high text-red-500 text-3xl mb-3"></i>
                <span class="text-[10px] font-black uppercase text-slate-700">Vitalne Funkcije</span>
            </button>
            
            <button onclick="window.location.href='life_meds.html'" class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-50 flex flex-col items-center hover:bg-blue-50 transition">
                <i class="fa-solid fa-pills text-blue-500 text-3xl mb-3"></i>
                <span class="text-[10px] font-black uppercase text-slate-700">Dnevna Terapija</span>
            </button>
            
            <button onclick="window.location.href='life_astro.html'" class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-50 flex flex-col items-center hover:bg-yellow-50 transition">
                <i class="fa-solid fa-star text-yellow-500 text-3xl mb-3"></i>
                <span class="text-[10px] font-black uppercase text-slate-700">Astro Centar</span>
            </button>

            <button onclick="window.location.href='life_recipes.html'" class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-50 flex flex-col items-center hover:bg-green-50 transition">
                <i class="fa-solid fa-utensils text-green-600 text-3xl mb-3"></i>
                <span class="text-[10px] font-black uppercase text-green-700">Zdrav Recept</span>
            </button>

            <button onclick="window.location.href='life_handyman.html'" class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-50 flex flex-col items-center hover:bg-red-50 transition">
                <i class="fa-solid fa-tools text-red-700 text-3xl mb-3"></i>
                <span class="text-[10px] font-black uppercase text-slate-700">Majstor u kuƒái</span>
            </button>

            <button onclick="window.location.href='life_hobby.html'" class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-50 flex flex-col items-center hover:bg-indigo-50 transition">
                <i class="fa-solid fa-car text-indigo-700 text-3xl mb-3"></i>
                <span class="text-[10px] font-black uppercase text-slate-700">Auto & Lov</span>
            </button>
            
          
			<button onclick="window.location.href='life_agro.html'" class="bg-white p-6 rounded-[2rem] shadow-sm border border-slate-50 flex flex-col items-center hover:bg-emerald-50 transition shadow-md">
				<i class="fa-solid fa-wheat-awn text-emerald-600 text-3xl mb-3"></i>
				<span class="text-[10px] font-black uppercase text-emerald-700 font-bold">SINET AGRO</span>
			</button>
			
            
        </section>
    </main>

    <script>
			/* ===================================================
		   üö© POƒåETAK BLOKA: METEO ENGINE v2.0 (Verified)
		   =================================================== */
		async function fetchMeteoData() {
			try {
				// Podaci za Novi Sad (Latitude: 45.26, Longitude: 19.83)
				const res = await fetch('https://api.open-meteo.com/v1/forecast?latitude=45.26&longitude=19.83&current_weather=true&hourly=relativehumidity_2m');
				const data = await res.json();
				
				document.getElementById('meteo-temp').innerText = Math.round(data.current_weather.temperature) + "¬∞C";
				document.getElementById('meteo-hum').innerText = data.hourly.relativehumidity_2m[0] + "%";
				document.getElementById('meteo-wind').innerText = Math.round(data.current_weather.windspeed) + " km/h";
				
				localStorage.setItem('sinet_last_meteo', Date.now());
				console.log("SINET: Meteo podaci osve≈æeni.");
			} catch (e) {
				console.error("SINET: Meteo API Error", e);
			}
		}

		function initHub() {
			// 1. Uƒçitaj lokaciju iz pode≈°avanja
			const config = JSON.parse(localStorage.getItem('sinet_life_config')) || {};
			if(config.city) {
				document.getElementById('loc-tag').innerText = "LOKACIJA: " + config.city.toUpperCase();
			}
			
			// 2. Proveri tajming (30 min)
			const lastUpdate = localStorage.getItem('sinet_last_meteo');
			const interval = 30 * 60 * 1000;

			if (!lastUpdate || (Date.now() - lastUpdate) > interval) {
				fetchMeteoData();
			} else {
				// Ako nije pro≈°lo 30 min, bar proƒçitaj temperaturu koju smo veƒá jednom dobili (ako ≈æelimo punu stabilnost)
				fetchMeteoData(); // Za prvi test pokreƒáemo odmah
			}
		}
		/* ===================================================
		   üèÅ KRAJ BLOKA: METEO ENGINE v2.0
		   =================================================== */
    </script>
</body>
</html>
