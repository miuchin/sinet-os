<!DOCTYPE html>
<html lang="sr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SINET REMOTE v1.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'], mono: ['JetBrains Mono', 'monospace'] },
                    colors: {
                        sinet: { 
                            dark: '#0f172a', 
                            panel: '#1e293b',
                            primary: '#3b82f6', 
                            success: '#10b981', 
                            warning: '#f59e0b',
                            terminal: '#000000'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        /* SCROLLBAR STIL */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #1e293b; }
        ::-webkit-scrollbar-thumb { background: #475569; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #64748b; }
        
        .fade-in { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-slate-900 text-gray-200 font-sans h-screen flex flex-col overflow-hidden">

    <header class="bg-slate-800 border-b border-slate-700 h-16 flex items-center justify-between px-6 shadow-md z-50">
        <div class="flex items-center gap-4">
            <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/30">
                <i class="fa-solid fa-network-wired text-white text-xl"></i>
            </div>
            <div>
                <h1 class="font-bold text-lg text-white tracking-wide">SINET <span class="text-blue-400">REMOTE</span></h1>
                <p class="text-[10px] text-gray-400 font-mono uppercase tracking-widest">Connect & Control Module v1.0</p>
            </div>
        </div>
        
        <div class="hidden md:flex items-center gap-6 bg-slate-900/50 px-4 py-2 rounded-full border border-slate-700">
            <div class="flex items-center gap-2">
                <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                <span class="text-xs font-mono text-green-400">SYSTEM READY</span>
            </div>
            <div class="h-4 w-px bg-slate-700"></div>
            <div class="text-xs text-gray-400">
                <i class="fa-solid fa-user-shield mr-1"></i> Mode: <span class="text-white">Admin Generator</span>
            </div>
        </div>

        <button onclick="window.close()" class="text-gray-400 hover:text-red-400 transition" title="Zatvori Modul">
            <i class="fa-solid fa-power-off text-lg"></i>
        </button>
    </header>
    <div class="flex flex-1 overflow-hidden">
        
        <aside class="w-80 bg-slate-800 border-r border-slate-700 flex flex-col z-40">
            
            <div class="p-6 border-b border-slate-700">
                <h2 class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-4">IZBOR SISTEMA</h2>
                
                <div class="space-y-3">
                    <label class="flex items-center gap-3 p-3 rounded-lg border border-slate-600 bg-slate-700/50 cursor-pointer hover:bg-slate-700 hover:border-blue-500 transition group relative overflow-hidden">
                        <input type="radio" name="os_select" value="fedora" class="peer hidden" checked onchange="switchSystem('fedora')">
                        <div class="absolute inset-0 border-2 border-blue-500 rounded-lg opacity-0 peer-checked:opacity-100 transition"></div>
                        <div class="w-8 h-8 rounded bg-blue-900/50 text-blue-400 flex items-center justify-center border border-blue-500/30">
                            <i class="fa-brands fa-fedora text-lg"></i>
                        </div>
                        <div class="flex-1 z-10">
                            <div class="font-bold text-sm text-gray-200 group-hover:text-white">Linux (Fedora/RHEL)</div>
                            <div class="text-[10px] text-gray-400">Koristi DNF + FirewallD</div>
                        </div>
                    </label>

                    <label class="flex items-center gap-3 p-3 rounded-lg border border-slate-600 bg-slate-700/50 cursor-pointer hover:bg-slate-700 hover:border-orange-500 transition group relative overflow-hidden">
                        <input type="radio" name="os_select" value="ubuntu" class="peer hidden" onchange="switchSystem('ubuntu')">
                        <div class="absolute inset-0 border-2 border-orange-500 rounded-lg opacity-0 peer-checked:opacity-100 transition"></div>
                        <div class="w-8 h-8 rounded bg-orange-900/50 text-orange-400 flex items-center justify-center border border-orange-500/30">
                            <i class="fa-brands fa-ubuntu text-lg"></i>
                        </div>
                        <div class="flex-1 z-10">
                            <div class="font-bold text-sm text-gray-200 group-hover:text-white">Linux (Ubuntu/Deb)</div>
                            <div class="text-[10px] text-gray-400">Koristi APT + UFW</div>
                        </div>
                    </label>
                  
                    <label class="flex items-center gap-3 p-3 rounded-lg border border-slate-600 bg-slate-700/50 cursor-pointer hover:bg-slate-700 hover:border-blue-400 transition group relative overflow-hidden">
                        <input type="radio" name="os_select" value="windows" class="peer hidden" onchange="switchSystem('windows')">
                        <div class="absolute inset-0 border-2 border-blue-400 rounded-lg opacity-0 peer-checked:opacity-100 transition"></div>
                        <div class="w-8 h-8 rounded bg-blue-900/50 text-blue-300 flex items-center justify-center border border-blue-400/30">
                            <i class="fa-brands fa-windows text-lg"></i>
                        </div>
                        <div class="flex-1 z-10">
                            <div class="font-bold text-sm text-gray-200 group-hover:text-white">Windows (10/11)</div>
                            <div class="text-[10px] text-gray-400">PowerShell Auto-Setup</div>
                        </div>
                    </label>

                    <label class="flex items-center gap-3 p-3 rounded-lg border border-slate-600 bg-slate-700/50 cursor-pointer hover:bg-slate-700 hover:border-gray-100 transition group relative overflow-hidden">
                        <input type="radio" name="os_select" value="mac" class="peer hidden" onchange="switchSystem('mac')">
                        <div class="absolute inset-0 border-2 border-gray-100 rounded-lg opacity-0 peer-checked:opacity-100 transition"></div>
                        <div class="w-8 h-8 rounded bg-gray-800 text-white flex items-center justify-center border border-gray-500">
                            <i class="fa-brands fa-apple text-lg"></i>
                        </div>
                        <div class="flex-1 z-10">
                            <div class="font-bold text-sm text-gray-200 group-hover:text-white">Apple macOS</div>
                            <div class="text-[10px] text-gray-400">Sharing Guide</div>
                        </div>
                    </label>
                    
                </div>
            </div>

            <div class="p-6 border-b border-slate-700 flex-1 overflow-y-auto">
                <h2 class="text-xs font-bold text-gray-500 uppercase tracking-widest mb-4">REMOTE TOOLS</h2>
                <div class="grid grid-cols-2 gap-3">
                    <a href="https://www.dwservice.net/" target="_blank" class="p-3 bg-slate-700 rounded hover:bg-blue-600 transition text-center border border-slate-600 group">
                        <i class="fa-solid fa-globe text-2xl mb-2 text-gray-400 group-hover:text-white"></i>
                        <div class="text-xs font-bold">DwService</div>
                    </a>
                    <a href="https://hoptodesk.com/" target="_blank" class="p-3 bg-slate-700 rounded hover:bg-green-600 transition text-center border border-slate-600 group">
                        <i class="fa-solid fa-desktop text-2xl mb-2 text-gray-400 group-hover:text-white"></i>
                        <div class="text-xs font-bold">HopToDesk</div>
                    </a>
                </div>
            </div>

            <div class="p-4 bg-slate-900/80 text-[10px] text-gray-500 text-center">
                SINET REMOTE v1.0<br>Powered by Gemini & S.Miuchin
            </div>
        </aside>

        <main class="flex-1 flex flex-col bg-slate-900 relative">
         <div class="bg-slate-800 p-6 border-b border-slate-700 shadow-md">
                <div class="flex flex-col lg:flex-row justify-between items-center gap-4">
                    <div class="flex-1 text-center lg:text-left">
                        <h2 class="text-xl font-bold text-white mb-1 flex items-center justify-center lg:justify-start gap-2">
                            <span id="title-os">SINET SAMBA GENERATOR</span>
                        </h2>
                        <p class="text-sm text-gray-400 max-w-2xl leading-relaxed" id="desc-os">
                            Ovaj alat automatski generiÅ¡e sigurnosnu skriptu.
                        </p>
                    </div>
                    
                    <div class="flex gap-3 shrink-0">
                        <button onclick="toggleModal('mobileGuide')" class="bg-slate-700 hover:bg-blue-600 text-white px-4 py-3 rounded-lg font-bold transition flex items-center gap-2 border border-slate-600 shadow-lg">
                            <i class="fa-solid fa-mobile-screen"></i> 
                            <span class="hidden xl:inline">POVEÅ½I TELEFON</span><span class="xl:hidden">VODIÄŒ</span>
                        </button>
                        <button onclick="downloadScript()" class="bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-bold shadow-lg shadow-green-900/20 transition flex items-center gap-2 border border-green-500">
                            <i class="fa-solid fa-download"></i> 
                            <span class="hidden xl:inline">PREUZMI SKRIPTU</span><span class="xl:hidden">PREUZMI</span>
                        </button>
                            <i class="fa-solid fa-download"></i> <span class="hidden xl:inline">PREUZMI</span><span class="xl:hidden"></span>
                        </button>
                    </div>
                </div>
            </div>

            <div class="flex-1 p-6 overflow-hidden flex flex-col">
                <div class="bg-black rounded-xl border border-slate-700 flex flex-col flex-1 shadow-2xl overflow-hidden relative group">
                    <div class="bg-slate-800 px-4 py-2 flex items-center justify-between border-b border-slate-700">
                        <div class="flex gap-2">
                            <div class="w-3 h-3 rounded-full bg-red-500"></div>
                            <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                            <div class="w-3 h-3 rounded-full bg-green-500"></div>
                        </div>
                        <div class="text-xs font-mono text-gray-400 flex items-center gap-2">
                            <i class="fa-solid fa-lock text-gray-600"></i>
                            <span id="filename-display">sinet_install.sh</span>
                        </div>
                        <button onclick="copyCode()" class="text-xs text-gray-400 hover:text-white transition"><i class="fa-regular fa-copy mr-1"></i> COPY</button>
                    </div>

                    <pre id="code-preview" class="flex-1 p-6 font-mono text-xs md:text-sm text-green-400 overflow-y-auto leading-relaxed custom-scrollbar whitespace-pre-wrap break-words">
#!/bin/bash
# ÄŒekam izbor sistema...
                    </pre>
                    
                    <div class="absolute bottom-4 right-4 text-slate-800 font-black text-6xl opacity-20 pointer-events-none select-none">SINET</div>
                </div>
            </div>
        </main>

    </div>
		
<script>
        /* ==========================================================================
           BLOK B: SINET SAMBA ENGINE (LOGIC v1.1)
           FUNKCIJA: Generisanje skripti za Linux, Windows i Mac
           ========================================================================== */
        
        let currentOS = 'fedora';

        // --- 1. DEFINICIJE SKRIPTI ---
        
        const SCRIPT_FEDORA = `#!/bin/bash
# SINET REMOTE: FEDORA SETUP
echo "[SINET] 1. Update..."
sudo dnf -y update
echo "[SINET] 2. Install Samba..."
sudo dnf install -y samba policycoreutils-python-utils
echo "[SINET] 3. Configure..."
if id "sinet_master" &>/dev/null; then echo "User exists"; else sudo useradd -m sinet_master; fi
sudo smbpasswd -a sinet_master
sudo mkdir -p /home/sinet_master/SINET_Share
sudo chmod -R 777 /home/sinet_master/SINET_Share
sudo firewall-cmd --add-service=samba --permanent
sudo firewall-cmd --reload
sudo setsebool -P samba_export_all_rw 1
# Config injection...
sudo bash -c 'cat > /etc/samba/smb.conf <<EOF
[global]
   workgroup = SINET_WORKGROUP
   server string = SINET Remote
   security = user
   map to guest = Bad User
   min protocol = SMB2
[SINET_Box]
   path = /home/sinet_master/SINET_Share
   valid users = sinet_master
   browsable = yes
   writable = yes
   guest ok = no
   create mask = 0777
EOF'
sudo systemctl enable smb nmb
sudo systemctl restart smb nmb
echo "âœ… GOTOVO! IP Adresa:"
hostname -I | awk '{print $1}'`;

        const SCRIPT_UBUNTU = `#!/bin/bash
# SINET REMOTE: UBUNTU SETUP
echo "[SINET] 1. Update..."
sudo apt update && sudo apt upgrade -y
echo "[SINET] 2. Install Samba..."
sudo apt install -y samba -y
echo "[SINET] 3. Configure..."
if id "sinet_master" &>/dev/null; then echo "User exists"; else sudo useradd -m sinet_master; fi
sudo smbpasswd -a sinet_master
sudo mkdir -p /home/sinet_master/SINET_Share
sudo chmod -R 777 /home/sinet_master/SINET_Share
sudo ufw allow samba
# Config injection...
sudo bash -c 'cat > /etc/samba/smb.conf <<EOF
[global]
   workgroup = SINET_WORKGROUP
   server string = SINET Remote
   security = user
   map to guest = Bad User
   min protocol = SMB2
[SINET_Box]
   path = /home/sinet_master/SINET_Share
   valid users = sinet_master
   browsable = yes
   writable = yes
   guest ok = no
   create mask = 0777
EOF'
sudo systemctl restart smbd nmbd
echo "âœ… GOTOVO! IP Adresa:"
hostname -I | awk '{print $1}'`;

        const SCRIPT_WINDOWS = `# SINET REMOTE: WINDOWS SETUP (PowerShell)
# Pokrenuti kao Administrator!

Write-Host "[SINET] 1. Kreiram folder C:\\SINET_Share..." -ForegroundColor Cyan
New-Item -ItemType Directory -Force -Path "C:\\SINET_Share" | Out-Null

Write-Host "[SINET] 2. Kreiram Share [SINET_Box]..." -ForegroundColor Cyan
Remove-SmbShare -Name "SINET_Box" -ErrorAction SilentlyContinue
New-SmbShare -Name "SINET_Box" -Path "C:\\SINET_Share" -FullAccess $env:USERNAME

Write-Host "[SINET] 3. Otvaram Firewall..." -ForegroundColor Cyan
Set-NetFirewallRule -DisplayGroup "File and Printer Sharing" -Enabled True

Write-Host "âœ… SINET WINDOWS SHARE JE SPREMAN!" -ForegroundColor Green
Get-NetIPAddress -AddressFamily IPv4 | Where-Object InterfaceAlias -NotMatch "Loopback" | Select-Object -ExpandProperty IPAddress
Read-Host "Pritisnite ENTER za izlaz..."`;

        const GUIDE_MAC = `
=== ðŸŽ SINET VODIÄŒ ZA MACOS ===

1. Otvorite 'System Settings' -> 'General' -> 'Sharing'.
2. UkljuÄite 'File Sharing' (kliknite na "i").
3. Pod 'Shared Folders' dodajte novi folder.
4. KLJUÄŒNO: Kliknite 'Options...'
   -> [x] Share files and folders using SMB.
   -> [x] Å tiklirajte vaÅ¡eg korisnika i unesite lozinku.

âœ… GOTOVO! IP Adresa je na vrhu prozora.`;

        // --- 2. FUNKCIJE ---

        function switchSystem(os) {
            currentOS = os;
            const titleEl = document.getElementById('title-os');
            const codeEl = document.getElementById('code-preview');
            const descEl = document.getElementById('desc-os');
            const fileEl = document.getElementById('filename-display');
            
            // 1. POSTAVLJANJE NAZIVA FAJLA (OVO REÅ AVA "sinet_install.sh" PROBLEM)
            let newFileName = "sinet_install.sh";
            if (os === 'windows') newFileName = "SINET_Setup_Win.ps1";
            else if (os === 'mac') newFileName = "Manual_Guide.txt";
            else if (os === 'fedora') newFileName = "SINET_Install_FEDORA.sh";
            else if (os === 'ubuntu') newFileName = "SINET_Install_UBUNTU.sh";
            
            if(fileEl) fileEl.innerText = newFileName;

            // 2. POSTAVLJANJE SADRÅ½AJA (ICON + TITLE)
            // Koristimo kraÄ‡e naslove da bi poravnanje bilo lepÅ¡e
            if(os === 'fedora') {
                titleEl.innerHTML = '<i class="fa-brands fa-fedora text-blue-500 mr-2 text-2xl"></i> FEDORA SKRIPTA';
                codeEl.innerText = SCRIPT_FEDORA;
                descEl.innerHTML = "Optimizovano za RedHat/CentOS (DNF).";
            } else if (os === 'ubuntu') {
                titleEl.innerHTML = '<i class="fa-brands fa-ubuntu text-orange-500 mr-2 text-2xl"></i> UBUNTU SKRIPTA';
                codeEl.innerText = SCRIPT_UBUNTU;
                descEl.innerHTML = "Optimizovano za Debian/Mint (APT).";
            } else if (os === 'windows') {
                titleEl.innerHTML = '<i class="fa-brands fa-windows text-blue-400 mr-2 text-2xl"></i> WINDOWS (PowerShell)';
                codeEl.innerText = SCRIPT_WINDOWS;
                descEl.innerHTML = "Automatska konfiguracija za Windows 10/11.";
            } else if (os === 'mac') {
                titleEl.innerHTML = '<i class="fa-brands fa-apple text-gray-200 mr-2 text-2xl"></i> MACOS VODIÄŒ';
                codeEl.innerText = GUIDE_MAC;
                descEl.innerHTML = "RuÄno podeÅ¡avanje za Apple ureÄ‘aje.";
            }
        }

        function downloadScript() {
            if (currentOS === 'mac') { alert("Za macOS pratite uputstvo."); return; }

            let content = (currentOS === 'windows') ? SCRIPT_WINDOWS : (currentOS === 'fedora' ? SCRIPT_FEDORA : SCRIPT_UBUNTU);
            let filename = (currentOS === 'windows') ? 'SINET_Setup_Win.ps1' : `SINET_Install_${currentOS.toUpperCase()}.sh`;
            
            const blob = new Blob([content], { type: 'text/plain' });
            const link = document.createElement('a');
            link.href = URL.createObjectURL(blob);
            link.download = filename;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            alert(`âœ… PREUZETO: ${filename}\nSledite uputstva za pokretanje!`);
        }
        
        function copyCode() {
            navigator.clipboard.writeText(document.getElementById('code-preview').innerText).then(() => alert("Kopirano!"));
        }

        function toggleModal(id) {
            document.getElementById(id).classList.toggle('hidden');
        }

        // Init
        switchSystem('fedora');
    </script>

    <div id="mobileGuide" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] hidden flex items-center justify-center p-4 fade-in">
        <div class="bg-slate-800 rounded-2xl border border-slate-600 w-full max-w-4xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]">
            <div class="bg-slate-900 p-6 border-b border-slate-700 flex justify-between items-center">
                <h3 class="text-xl font-bold text-white flex items-center gap-3">ðŸ“± VODIÄŒ ZA POVEZIVANJE</h3>
                <button onclick="toggleModal('mobileGuide')" class="text-gray-400 hover:text-white"><i class="fa-solid fa-times text-2xl"></i></button>
            </div>
            <div class="p-8 overflow-y-auto grid md:grid-cols-2 gap-8 custom-scrollbar">
                <div class="bg-slate-700/30 p-6 rounded-xl border border-slate-600">
                    <h4 class="text-green-400 font-bold mb-4"><i class="fa-brands fa-android mr-2"></i> ANDROID</h4>
                    <p class="text-sm text-gray-300">1. Skinite "Material Files".<br>2. Add Storage -> SMB.<br>3. Unesite IP i User: sinet_master.</p>
                </div>
                <div class="bg-slate-700/30 p-6 rounded-xl border border-slate-600">
                    <h4 class="text-blue-400 font-bold mb-4"><i class="fa-brands fa-apple mr-2"></i> iOS</h4>
                    <p class="text-sm text-gray-300">1. Files App -> Connect to Server.<br>2. smb://IP_ADRESA.<br>3. User: sinet_master.</p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
